<!DOCTYPE html>
<html>
<head>
    <title>–û—Ç–ª–∞–¥–∫–∞ –¥–∞—à–±–æ—Ä–¥–∞</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        .chart { height: 400px; border: 1px solid #ccc; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>–û—Ç–ª–∞–¥–∫–∞ –¥–∞—à–±–æ—Ä–¥–∞</h1>
    
    <div id="risk-return-plot" class="chart"></div>
    <div id="capital-flows-plot" class="chart"></div>
    
    <div id="log"></div>
    
    <script>
        function log(message) {
            console.log(message);
            document.getElementById('log').innerHTML += '<div>' + message + '</div>';
        }
        
        log('üöÄ –ù–∞—á–∏–Ω–∞–µ–º –æ—Ç–ª–∞–¥–∫—É...');
        
        // –¢–µ—Å—Ç 1: –ì—Ä–∞—Ñ–∏–∫ —Ä–∏—Å–∫-–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å
        log('üìä –ó–∞–≥—Ä—É–∂–∞–µ–º –≥—Ä–∞—Ñ–∏–∫ —Ä–∏—Å–∫-–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å...');
        fetch('http://localhost:5005/api/chart')
          .then(response => {
            log('‚úÖ API chart –æ—Ç–≤–µ—Ç–∏–ª: ' + response.status);
            return response.json();
          })
          .then(data => {
            log('üìä –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã, —Å–æ–∑–¥–∞–µ–º –≥—Ä–∞—Ñ–∏–∫...');
            if (data.data && data.layout) {
              Plotly.newPlot('risk-return-plot', data.data, data.layout, {responsive: true});
              log('‚úÖ –ì—Ä–∞—Ñ–∏–∫ —Ä–∏—Å–∫-–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω!');
            } else {
              log('‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö');
            }
          })
          .catch(error => {
            log('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≥—Ä–∞—Ñ–∏–∫–∞: ' + error);
          });
        
        // –¢–µ—Å—Ç 2: –ü–æ—Ç–æ–∫–∏ –∫–∞–ø–∏—Ç–∞–ª–∞
        log('üí∞ –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ—Ç–æ–∫–∏ –∫–∞–ø–∏—Ç–∞–ª–∞...');
        fetch('http://localhost:5005/api/capital-flows')
          .then(response => {
            log('‚úÖ API capital-flows –æ—Ç–≤–µ—Ç–∏–ª: ' + response.status);
            return response.json();
          })
          .then(data => {
            log('üí∞ –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã, —Å–æ–∑–¥–∞–µ–º –≥—Ä–∞—Ñ–∏–∫...');
            if (data.data && data.layout) {
              Plotly.newPlot('capital-flows-plot', data.data, data.layout, {responsive: true});
              log('‚úÖ –ì—Ä–∞—Ñ–∏–∫ –ø–æ—Ç–æ–∫–æ–≤ –∫–∞–ø–∏—Ç–∞–ª–∞ —Å–æ–∑–¥–∞–Ω!');
            } else {
              log('‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö');
            }
          })
          .catch(error => {
            log('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ—Ç–æ–∫–æ–≤: ' + error);
          });
    </script>
</body>
</html>